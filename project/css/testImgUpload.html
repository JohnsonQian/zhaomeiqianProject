<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
    <title>测试网页2</title>
    <link rel="stylesheet" type="text/css" href="./csslib.css">
</head>
<body>


<input type="file" id="fileId"  name="fileId" value="上传图片" hidefocus="false" onchange="readAsDataURL(this.files,this.id);"/>
<div id="res">
    
</div>
<img id="i">




<script src="./jquery.min.js" ></script> 
<script src="./jslib.js" ></script> 
<script type="text/javascript">
    


</script>
<script type="text/javascript">
 function readAsDataURL(){ 
    var res = $('#fileId');
    var file = res[0]['files'][0];
    // console.log(file);
    var filesize = file.size;
    var inzi = filesize/30000;
    var sqinzi = Math.sqrt(inzi);
    console.log(sqinzi);
    console.log($(file));
    
    if(typeof FileReader=='undefined'){  
        alert("您的浏览器不支持图片上传"); 
        return false;   
    }  
    var reader=new FileReader();  
    reader.readAsDataURL(file);  
    reader.onload=function(f){  
        var result=$("#i")[0];  
        result.src=this.result;  
        var jqimg = $(result);
        console.log(jqimg);
        console.log(jqimg[0].width);
        console.log(jqimg.height());
    }  
}



 

</script>



</body>
</html>